<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Pr√™mio de Educa√ß√£o</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header class="mobile-header" id="mobile-header">
        <button id="hamburger-btn" class="hamburger-btn"><i class="ph-fill ph-list"></i></button>
        <div class="mobile-logo">
            <i class="ph-fill ph-graduation-cap"></i>
            <span>An√°lise IA</span>
        </div>
    </header>

    <div class="dashboard-container">
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <i class="ph-fill ph-graduation-cap"></i>
                <span>An√°lise IA</span>
            </div>
            <ul class="sidebar-menu">
                <li><a href="#dashboard" class="sidebar-link active"><i class="ph-fill ph-gauge"></i><span>Dashboard</span></a></li>
                <li><a href="#analises" class="sidebar-link"><i class="ph-fill ph-chart-bar"></i><span>An√°lises</span></a></li>
                <li><a href="#relatorios" class="sidebar-link"><i class="ph-fill ph-file-text"></i><span>Relat√≥rios</span></a></li>
                <li><a href="#impacto" class="sidebar-link"><i class="ph-fill ph-chart-line-up"></i><span>Impacto</span></a></li>
                <li><a href="#configuracoes" class="sidebar-link"><i class="ph-fill ph-gear"></i><span>Configura√ß√µes</span></a></li>
            </ul>
        </nav>

        <main class="main-content">
            <div id="dashboard" class="page-content">
                <header class="main-header">
                    <h1>Dashboard de An√°lise Educacional</h1>
                    <p>Pr√™mio de Educa√ß√£o - Instituto Alpargatas</p>
                </header>
                <section class="filtros-container">
                    <div class="filtro-item">
                        <label for="filtro-regiao">Regi√£o</label>
                        <select id="filtro-regiao">
                            <option value="Todas">Todas as Regi√µes</option>
                        </select>
                    </div>
                    <div class="filtro-item">
                        <label for="filtro-ano">Ano</label>
                        <select id="filtro-ano">
                            <option value="2025">2025</option>
                            <option value="2024">2024</option>
                            <option value="2023">2023</option>
                            <option value="2022">2022</option>
                            <option value="2021">2021</option>
                            <option value="2020">2020</option>
                            <option value="2019">2019</option>
                            <option value="2018">2018</option>
                            <option value="2017">2017</option>
                            <option value="2016">2016</option>
                            <option value="2015">2015</option>
                        </select>
                    </div>
                </section>
                <section class="kpi-grid">
                    <div class="kpi-card">
                        <h2>M√©dia Geral (Pr√™mio)</h2>
                        <p id="media-geral">-</p>
                    </div>
                    <div class="kpi-card">
                        <h2>Melhoria Anual</h2>
                        <p id="melhoria-anual" class="positivo">+0.0%</p>
                    </div>
                    <div class="kpi-card">
                        <h2>Benchmark vs. IDEB</h2>
                        <p id="benchmark-ideb" class="positivo">+0.0</p>
                    </div>
                </section>
                <div class="dashboard-grid">
                    <section class="chart-container">
                        <h2>Desempenho por Regi√£o</h2>
                        <canvas id="regiaoChart"></canvas>
                    </section>
                    <section class="ranking-container">
                        <h2>üèÜ Top 10 Escolas</h2>
                        <div class="table-wrapper">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Posi√ß√£o</th>
                                        <th>Nome da Escola</th>
                                        <th>Pontua√ß√£o</th>
                                        <th>Regi√£o</th>
                                    </tr>
                                </thead>
                                <tbody id="ranking-body"></tbody>
                            </table>
                        </div>
                    </section>
                    <section class="ranking-container full-width">
                        <h2>‚≠ê Estudantes Destaques</h2>
                        <div class="table-wrapper">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Posi√ß√£o</th>
                                        <th>Aluno</th>
                                        <th>Nota Geral</th>
                                        <th>Escola</th>
                                    </tr>
                                </thead>
                                <tbody id="ranking-alunos-body"></tbody>
                            </table>
                        </div>
                    </section>
                </div>
            </div>

            <div id="analises" class="page-content hidden">
                <header class="main-header">
                    <h1>An√°lises Detalhadas</h1>
                </header>
                
                <section class="analysis-container">
                    <h2>Comparativo de Escolas</h2>
                    <p>Selecione at√© 3 escolas para comparar seus indicadores.</p>
                    <div class="comparison-tool">
                        <div class="school-selector">
                            <label for="analise-escolas-select">Escolas Dispon√≠veis (do ano selecionado no filtro principal)</label>
                            <select id="analise-escolas-select" multiple></select>
                        </div>
                        <div class="comparison-action">
                             <button id="analise-comparar-btn" class="cta-button"><i class="ph-fill ph-arrows-clockwise"></i><span>Comparar</span></button>
                        </div>
                    </div>
                    <div id="analise-resultado-container" class="kpi-grid"></div>
                </section>

                <section class="analysis-container">
                    <h2>Jornada da Escola</h2>
                    <p>Selecione uma escola para ver sua hist√≥ria de impacto e evolu√ß√£o de 2015 a 2025.</p>
                     <div class="filtros-container">
                        <div class="filtro-item">
                            <label for="analise-historico-select">Selecione uma Escola:</label>
                            <select id="analise-historico-select"></select>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="historicoChart"></canvas>
                    </div>
                    <div id="jornada-kpi-grid" class="kpi-grid" style="margin-top: 25px;"></div>
                    <div id="jornada-timeline-container" class="timeline-container"></div>
                </section>
            </div>
            
            <div id="relatorios" class="page-content hidden">
                 <header class="main-header">
                    <h1>Relat√≥rios e Exporta√ß√£o</h1>
                </header>
                <section class="ranking-container">
                    <div class="relatorio-header">
                        <h2>Relat√≥rio Completo de Escolas</h2>
                        <button id="export-csv-btn" class="cta-button"><i class="ph-fill ph-download-simple"></i>Exportar para CSV</button>
                    </div>
                    <div class="table-wrapper">
                        <table id="relatorio-tabela-escolas">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nome da Escola</th>
                                    <th>Regi√£o</th>
                                    <th>Ano</th>
                                    <th>Pontua√ß√£o Pr√™mio</th>
                                    <th>IDEB P√∫blico</th>
                                </tr>
                            </thead>
                            <tbody id="relatorio-body"></tbody>
                        </table>
                    </div>
                </section>
            </div>

            <div id="impacto" class="page-content hidden">
                <header class="main-header">
                    <h1>An√°lise de Impacto (Antes e Depois)</h1>
                    <p>Compare o desempenho das escolas em um ano base ("Antes") com um ano subsequente ("Depois").</p>
                </header>
                <section class="analysis-container">
                    <h2>Filtros da An√°lise</h2>
                    <div class="filtros-container">
                        <div class="filtro-item" style="flex-grow: 1;">
                            <label for="impacto-escolas-select">Selecione uma ou mais escolas</label>
                            <select id="impacto-escolas-select" multiple></select>
                        </div>
                        
                        <div class="filtro-item">
                            <label for="impacto-ano-antes-select">Selecione o ano ("Antes")</label>
                            <select id="impacto-ano-antes-select">
                                <option value="2015">2015</option>
                                <option value="2016">2016</option>
                                <option value="2017">2017</option>
                                <option value="2018">2018</option>
                                <option value="2019" selected>2019</option>
                                <option value="2020">2020</option>
                                <option value="2021">2021</option>
                                <option value="2022">2022</option>
                            </select>
                        </div>
                        <div class="filtro-item">
                            <label for="impacto-ano-select">Selecione o ano ("Depois")</label>
                            <select id="impacto-ano-select">
                                <option value="2020">2020</option>
                                <option value="2021">2021</option>
                                <option value="2022">2022</option>
                                <option value="2023">2023</option>
                                <option value="2024">2024</option>
                                <option value="2025" selected>2025</option>
                            </select>
                        </div>
                        <div class="comparison-action" style="align-self: flex-end;">
                            <button id="impacto-gerar-btn" class="cta-button">Gerar An√°lise</button>
                        </div>
                    </div>
                </section>
                <section id="impacto-resultados-container" class="hidden">
                    <div class="analysis-container">
                        <h2>Impacto nas Escolas</h2>
                        <div class="chart-container">
                            <canvas id="impactoEscolasChart"></canvas>
                        </div>
                    </div>
                    <div class="dashboard-grid" style="margin-top: 25px;">
                        <div class="analysis-container">
                            <h2>Impacto nos Alunos</h2>
                            <div class="chart-container">
                                <canvas id="impactoAlunosChart"></canvas>
                            </div>
                        </div>
                        <div class="analysis-container">
                            <h2>Impacto nos Professores</h2>
                            <div class="chart-container">
                                <canvas id="impactoProfessoresChart"></canvas>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <div id="configuracoes" class="page-content hidden">
                 <header class="main-header">
                    <h1>Configura√ß√µes</h1>
                </header>
                <section class="settings-container">
                    <h2>Tema da Aplica√ß√£o</h2>
                    <div class="theme-switch-wrapper">
                        <label>Modo Claro</label>
                        <label class="theme-switch">
                            <input type="checkbox" id="theme-toggle">
                            <span class="slider round"></span>
                        </label>
                        <label>Modo Escuro</label>
                    </div>
                </section>
            </div>
        </main>
        <div id="overlay" class="overlay"></div>
    </div>
    <script src="/static/script.js"></script>
</body>
</html>